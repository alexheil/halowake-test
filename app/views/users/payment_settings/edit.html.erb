<%= provide(:title, "Set Up A Merchant Account, Part 2" + " | " + "Halowake") %>

<div class="wrapper">
  <div class="container">

    <div class="three-space medium-text">
      Set up a merchant account, part 2
    </div>

    <div class="nameplate border-top">
      <div class="form-container">
        <%= form_for(@payment, url: user_payment_settings_path) do |f| %>
          <%= f.hidden_field :user_id %>
          <%= render 'partials/errors/payment_setting_errors' %>       
            <div class="flex">
              <div class="one-half-form">
                <%= f.label :first_name %>
                <%= f.text_field :first_name, class: "text-field" %>
              </div>
              <div class="one-half-form">
                <%= f.label :last_name %>
                <%= f.text_field :last_name, class: "text-field" %>
              </div>
            </div>
            <div class="flex">
              <div class="one-thirds-form">
                <%= f.label :month %> <span class="dark mini-text">(MM)</span>
                <%= f.text_field :month, class: "text-field" %>
              </div>
              <div class="one-thirds-form">
                <%= f.label :day %> <span class="dark mini-text">(DD)</span>
                <%= f.text_field :day, class: "text-field" %>
              </div>
              <div class="one-thirds-form">
                <%= f.label :year %> <span class="dark mini-text">(YYYY)</span>
                <%= f.text_field :year, class: "text-field" %>
              </div>
            </div>

            <div class="three-space-bottom-padding center dark">
              None of the information below is saved in Halowake's database. Halowake will not have access to this information after this moment via this website.
            </div>

            <div class="field">
              <%= f.label :line1, "Street address" %>
              <%= f.text_field :line1, required: true, class: "text-field" %>
            </div>
            <div class="flex">
              <div class="one-thirds-form">
                <%= f.label :city %>
                <%= f.text_field :city, required: true, class: "text-field" %>
              </div>
              <div class="one-thirds-form">
                <%= f.label :state %>
                <%= f.text_field :state, required: true, class: "text-field" %>
              </div>
              <div class="one-thirds-form">
                <%= f.label :postal_code %>
                <%= f.text_field :postal_code, required: true, class: "text-field" %>
              </div>
            </div>

          <% if @payment.country == 'US' %>

            <div class="flex">
              <div class="one-half-form">
                <%= f.label :personal_id_number, "Full SS or business tax ID" %>
                <%= f.text_field :personal_id_number, required: true, class: "text-field" %>
              </div>
              <div class="one-half-form">
                <%= f.label :ssn_last_4, "Last 4 of SS" %>
                <%= f.text_field :ssn_last_4, required: true, class: "text-field" %>
              </div>
            </div>

          <% end %>

          <div class="field smedium-text bold center">
            Where will your money go?
          </div>

          <div class="three-space-bottom-padding center dark">
            This is not saved to Halowake's database. Only fill this out if you want to create a new default bank account to transfer funds to.
          </div>

          <% if @payment.country == 'US' %>
            <div class="flex">
              <div class="one-half-form">
                <%= f.label :bank_account_number %>
                <%= f.text_field :bank_account_number, required: true, class: "text-field" %>
              </div>
              <div class="one-half-form">
                <%= f.label :bank_routing_number %>
                <%= f.text_field :bank_routing_number, required: true, class: "text-field" %>
              </div>
            </div>
          <% else %>
            <div class="field">
              <%= f.label :bank_account_number %>
              <%= f.text_field :bank_account_number, required: true, class: "text-field" %>
            </div>
          <% end %>

          <%= f.submit "Update merchant account", data: { disable_with: 'Updating...' }, class: "submit-button" %>

        <% end %>
      </div>
    </div>


  </div>
</div>
