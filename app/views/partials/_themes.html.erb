<% if @user && @user.theme.present? && @user.theme.main_color.present? && @user.theme.main_color != "#DE5757" %>
  <meta name="theme-color" content="<%= @user.theme.main_color %>" />
<% end %>


<% if @user && @user.theme.present? %>
  <style>
    body {
      color: <%= @user.theme.text_color %>;
      background: <%= @user.theme.background_color %>;
    }
    ::selection {
      background: <%= @user.theme.main_color %>;
    }
    <% if @user.theme.text_color.present? %>
      .close:before {
        background: <%= @user.theme.text_color %>;
      }
      .close:after {
        background: <%= @user.theme.text_color %>;
      }
      .close:hover:before {
        background: <%= @user.theme.hover_color %>;
      }
      .close:hover:after {
        background: <%= @user.theme.hover_color %>;
      }
      .black {
        color: <%= @user.theme.text_color %>;
      }
      .black:hover {
        color: <%= @user.theme.text_color %>;
      }
      .text-field {
        color: <%= @user.theme.text_color %>;
        border-bottom: 1px solid <%= @user.theme.text_color %>;
      }
      .text-area {
        color: <%= @user.theme.text_color %>;
        border-bottom: 1px solid <%= @user.theme.text_color %>;
      }
    <% end %>
    <% if @user.theme.background_color.present? %>
      .side-header a {
        color: <%= @user.theme.text_color %>;
      }
      #close-menu {
        color: <%= @user.theme.text_color %>;
      }
      .alert-notice {
        background: <%= @user.theme.background_color %>;
      }
      .alert-alert {
        background: <%= @user.theme.background_color %>;
      }
      .back {
        background: <%= @user.theme.background_color %>;
      }
      #profile-form .profile-form-inside {
        background: <%= @user.theme.background_color %>;
      }
      #album-form .profile-form-inside {
        background: <%= @user.theme.background_color %>;
      }
      #sign-in-form .profile-form-inside {
        background: <%= @user.theme.background_color %>;
      }
      #register-form .profile-form-inside {
        background: <%= @user.theme.background_color %>;
      }
      #edit-album-form .profile-form-inside {
        background: <%= @user.theme.background_color %>;
      }
      #purchase-form .profile-form-inside {
        background: <%= @user.theme.background_color %>;
      }
    <% end %>
    <% if @user.theme.link_color.present? %>
      a {
        color: <%= @user.theme.link_color %>;
      }
      a:hover {
        color: <%= @user.theme.hover_color %>;
      }
      .side-header a:hover {
        color: <%= @user.theme.link_color %>;
      }
      .active-tab {
        color: <%= @user.theme.link_color %>;
        border: 1px solid <%= @user.theme.link_color %>;
      }
      .checked-tab {
        color: <%= @user.theme.link_color %>;
        border: 1px solid <%= @user.theme.link_color %>;
      }
      .feed-links {
        color: <%= @user.theme.hover_color %>;
      }
      .feed-links:hover {
        color: <%= @user.theme.link_color %>;
      }
      #menu-click {
        color: <%= @user.theme.link_color %>;
      }
      #menu-click:hover {
        color: <%= @user.theme.hover_color %>;
      }
      #close-menu:hover {
        color: <%= @user.theme.link_color %>;
      }
      #edit-album-click {
        color: <%= @user.theme.link_color %>;
      }
      #edit-album-click:hover {
        color: <%= @user.theme.hover_color %>;
      }
      #edit-photo-click {
        color: <%= @user.theme.link_color %>;
      }
      #edit-photo-click:hover {
        color: <%= @user.theme.hover_color %>;
      }
      #sign-in:hover {
        color: <%= @user.theme.link_color %>;
      }
      #register:hover {
        color: <%= @user.theme.link_color %>;
      }
      #edit-profile {
        background-color: <%= @user.theme.link_color %>;
        border: 1px solid <%= @user.theme.link_color %>;
      }
      #create-album {
        background-color: <%= @user.theme.link_color %>;
        border: 1px solid <%= @user.theme.link_color %>;
      }
      .submit-button {
        background-color: <%= @user.theme.link_color %>;
        border: 1px solid <%= @user.theme.link_color %>;
      }
      .unsubmit-button {
        background-color: <%= @user.theme.link_color %>;
        border: 1px solid <%= @user.theme.link_color %>;
      }
      .vote {
        color: <%= @user.theme.link_color %>;
      }
      .vote:hover {
        color: <%= @user.theme.hover_color %>;
      }
    <% end %>
  </style>
<% end %>